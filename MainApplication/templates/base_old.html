<!DOCTYPE html>
<html lang="{{ g.current_lang }}" class="d-flex flex-column min-vh-100 w-100">
<head>
    <meta charset="UTF-8">
    <title>{{ title }}</title>
    <link rel="icon" href="{{ url_for('static', filename='img/favicon.ico') }}" type="image/x-icon">
    <!--SEO-->
    <meta name="google-site-verification" content="E1oXCV_ANCQB2muNUGwjvj5K2ujmRwxgBEFkymx7k8w"/>
    <meta name="msvalidate.01" content="D7C86AD854C0633A47D3D617B8C75BFC"/>
    <!--IE 兼容模式-->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <!-- External CSS & JS Files-->
    <link type="text/css" rel="stylesheet"
          href="{{ url_for('static', filename='node_modules/@fortawesome/fontawesome-free/css/all.css') }}">
    <link type="text/css" rel="stylesheet" href="{{ url_for('static', filename='scss/JoshuaZiyiLiu.css') }}">
</head>
<body class="d-flex flex-column flex-grow-1" style="margin: 2vmin">
<div class="y-border fixed-top"></div>
<div class="d-flex flex-column flex-grow-1 container-fluid position-relative bg-light">
    {#Header#}
    <header class="header d-flex flex-column my-3">
        <div class="container">
            <div class="d-flex row navbar navbar-expand-md navbar-light m-auto align-items-md-center{#vertical#}
                justify-content-center{#horizonal#}">
                <div class="row-cols-1 row-cols-md-2 col-md-12 col-10 row align-items-md-center">
                    {#Navbar Title#}
                    <div class="title d-flex col-md-4 d-md-block m-0 p-0 h-100
                align-items-md-center justify-content-start">
                        <a href="/" class="d-flex flex-wrap text-black " style="text-decoration: none">
                            <span class="m-0 p-0 d-inline">{{ _("Hi, I'm") }} &nbsp;</span>
                            <span class="m-0 p-0 d-inline">{{ _("Ziyi Joshua LIU") }}</span>
                        </a>
                    </div>
                    {#Navbar Links Section#}
                    <div class="d-flex col-md-8 m-0 p-0 h-100">
                        <div class="navbar-collapse collapse" id="headerNavbar">
                            <div class="d-flex flex-fill container">
                                <div class="d-flex flex-fill row h-auto w-100 text-center">
                                    <ul class="navbar-nav d-flex flex-wrap justify-content-md-around justify-content-center px-xl-0 px-5 ps-md-auto text-muted"
                                        style="padding-left: 4ch;font-size: 20px">
                                        {# Nav Home #}
                                        <li class="nav-item flex-inline mx-0 mx-xl-1" style="min-width: 15%">
                                            <a class="nav-link"
                                               {% if page == 'index' %}style="text-decoration: underline"{% endif %}
                                               href="{{ url_for('main.index_page') }}">{{ _("Home") }}</a>
                                        </li>
                                        {# Nav Portfolio #}
                                        <li class="nav-item flex-inline mx-0 mx-xl-1" style="min-width: 15%">
                                            <a class="nav-link"
                                               {% if page == 'portfolio' %}style="text-decoration: underline"{% endif %}
                                               href="{{ url_for('main.portfolio_page') }}">{{ _("Portfolio") }}</a>
                                        </li>
                                        {# Nav About #}
                                        <li class="nav-item flex-inline mx-0 mx-xl-1" style="min-width: 15%">
                                            <a class="nav-link"
                                               {% if page == 'cv' %}style="text-decoration: underline"{% endif %}
                                               href="{{ url_for('main.cv_page') }}">{{ _("About") }}</a>
                                        </li>
                                        {# Nav Contact #}
                                        <li class="nav-item flex-inline mx-0 mx-xl-1" style="min-width: 15%">
                                            <a class="nav-link"
                                               {% if page == 'contact' %}style="text-decoration: underline"{% endif %}
                                               href="{{ url_for('main.contact_page') }}">{{ _("Contact") }}</a>
                                        </li>
                                        {# Nav Log/Sign #}
                                        <li class="nav-item flex-inline mx-0 mx-xl-1" style="min-width: 10%">
                                            {% if current_user.is_authenticated %}
                                                {% if page != 'user_profile' %}
                                                    <a class="nav-link" title="{{ _("User Profile") }}"
                                                       href="{{ url_for('auth.user_page', uid=current_user.uid) }}">
                                                        <i class="fa-regular fa-user"></i>
                                                    </a>
                                                {% else %}
                                                    <a class="nav-link" href="{{ url_for('auth.logout') }}"
                                                       title="{{ _("Log Out") }}">
                                                        <i class="fa-solid fa-right-from-bracket"></i>
                                                    </a>
                                                {% endif %}
                                            {% else %}
                                                <a class="nav-link" href="{{ url_for('auth.login') }}"
                                                   title="{{ _("Log In") }}">
                                                    <i class="fa-solid fa-right-to-bracket"></i>
                                                    <!-- Show login icon when not logged in -->
                                                </a>
                                            {% endif %}
                                        </li>
                                        {# Nav Language #}
                                        <li class="nav-item dropdown mx-0 mx-xl-1" style="min-width: 10%">
                                            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown"
                                               role="button" title="中/粤/EN/FR"
                                               data-bs-toggle="dropdown" aria-expanded="false">
                                                <i class="fa-solid fa-language align-self-center"></i>
                                            </a>
                                            <ul class="dropdown-menu" aria-labelledby="navbarDropdown"
                                                style="left: 50%;">
                                                <li class="d-flex justify-content-center">
                                                    <a class="link" style="text-decoration: none"
                                                       href="{{ url_for('ip.set_locale', language='zh_Hans') }}">中文(简体)</a>
                                                </li>
                                                <li class="d-flex justify-content-center">
                                                    <a class="link" style="text-decoration: none"
                                                       href="{{ url_for('ip.set_locale', language='yue') }}">廣東話</a>
                                                </li>
                                                <li class="d-flex justify-content-center">
                                                    <a class="link" style="text-decoration: none"
                                                       href="{{ url_for('ip.set_locale', language='en') }}">English</a>
                                                </li>
                                                <li class="d-flex justify-content-center">
                                                    <a class="link" style="text-decoration: none"
                                                       href="{{ url_for('ip.set_locale', language='fr') }}">Français</a>
                                                </li>
                                            </ul>
                                            <style>.dropdown-toggle::after {
                                                display: none;
                                            }

                                            .dropdown-menu {
                                                width: 60pt;
                                                transform: translateX(-50%);
                                                @media (max-width: 767px) {
                                                    transform: none;
                                                }

                                                & a {
                                                    padding: 0.1rem 0.5rem;

                                                    &:hover {
                                                        background-color: #697584;
                                                        /* Add padding and rounded corners to the solid bg */
                                                        border-radius: 0.25rem;
                                                    }
                                                }
                                            }</style>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                {#Navbar Button Section#}
                <div class="d-md-none col-2 m-0 p-0 justify-content-center align-items-center h-100">
                    <button class="navbar-toggler collapsed align-self-end" type="button" data-bs-toggle="collapse"
                            data-bs-target="#headerNavbar" aria-controls="headerNavbar" aria-expanded="true"
                            aria-label="Toggle navigation" style="border-radius: 50px">
                        <img src="{{ url_for('static',filename='img/logo-pic.png') }}" alt="Menu Icon"
                             style="width: 40px;height: 40px">
                    </button>
                </div>
            </div>
        </div>
    </header>
    {#Main Content#}
    <main class="d-flex flex-column flex-shrink-0 flex-grow-1 mb-0 container-fluid align-items-stretch"
          style="flex-grow: 1;">
        <div class="container" style="flex-grow: 1;">
            {% block content %}{% endblock %}
        </div>
    </main>
    {#Footer#}
    <footer class="d-flex flex-column justify-content-end m-0 pt-4 pb-4 text-center">
        <!--Now I am using Singapore server no need to BEIAN!!!!
        <p class="my-auto" style="align-items:baseline;text-decoration:none;height:auto;">
            {#todo:网安备案信息#}
            <a href="https://www.beian.gov.cn/portal/registerSystemInfo?recordcode=320----------"
               style="display:inline-flex;align-items: baseline;text-decoration:none;height:20px;line-height:20px;"
               target="_blank" class="text-black-50">
                <img src="../static/img/badge.svg" alt="" style="width: 14px;height: 14px">
                &nbsp;沪公网安备 320-----------号&nbsp;|
            </a>
            <a href="https://beian.miit.gov.cn/"
               style="display:inline-flex;align-items:baseline;text-decoration:none;height:20px;line-height:20px;"
               target="_blank" class="text-black-50">互联网ICP备案：沪ICP备2021022886号-1 |
            </a>
            <a href="https://www.12377.cn/"
               style="display:inline-flex;align-items:baseline;text-decoration:none;height:20px;line-height:20px;"
               target="_blank" class="text-black-50">
                <img src="//static.hdslb.com/images/12377.png" width="16" height="16" style="vertical-align: sub;"
                     alt="">
                中国互联网违法和不良信息举报中心&nbsp;|
            </a>
            <a href="https://www.shjbzx.cn"
               style="display:inline-flex;align-items:baseline;text-decoration:none;height:20px;line-height:20px;"
               target="_blank" class="text-black-50">上海互联网举报中心
            </a>
        </p>
    -->
        <p class="mt-auto my-2">
            Copyright &copy; 2021-
            <script type="text/javascript">document.write(new Date().getFullYear())</script>
            <a href="{{ url_for('main.directory_page', filename='') }}"
               style="text-decoration: none">JoshuaZiyiLiu.com</a>
            &nbsp;{{ _("All Rights Reserved") }}.
        </p>
    </footer>
    {#2vmin heigt, 100vw fixed container at the top of page#}
</div>
<div class="y-border fixed-bottom"></div>
</body>
{#External JS Files#}
<script src="{{ url_for('static', filename='js/JoshuaZiyiLiu.js') }}"></script>
<script src="{{ url_for('static', filename='node_modules/bootstrap/dist/js/bootstrap.bundle.js') }}"></script>
<script src="{{ url_for('static', filename='node_modules/@fortawesome/fontawesome-free/js/all.js') }}"></script>
<script>
    // JavaScript to display a flash message for 5 seconds
    document.addEventListener('DOMContentLoaded', function () {
        const flashMessage = document.getElementById('flash-message');
        if (!flashMessage) {
            return;
        }
        // Show the flash message
        flashMessage.style.display = 'block';
        // Hide the flash message after 5 seconds
        setTimeout(function () {
            flashMessage.style.display = 'none';
        }, 5000); // 5 seconds in milliseconds
    });
</script>
</html>